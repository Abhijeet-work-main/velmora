<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velmora - Advanced Web Scraper</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* New Velmora Color Scheme */
        :root {
            --velmora-primary: #FF6B6B;
            --velmora-secondary: #FFD93D;
            --velmora-accent: #6BCB77;
            --velmora-background: #FFFBE6;
            --velmora-text: #222831;
            --velmora-nav-bg: #6BCB77;
            --velmora-glow: rgba(255, 107, 107, 0.4);
            --radius: 0.75rem;
        }

        .dark {
            --velmora-background: #222831;
            --velmora-text: #FFFBE6;
            --velmora-nav-bg: #FFD93D;
        }

        body {
            background-color: var(--velmora-background);
            color: var(--velmora-text);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            transition: all 0.3s ease;
        }

        /* Navigation Styles */
        .velmora-nav {
            background-color: var(--velmora-nav-bg);
            border-bottom: 2px solid var(--velmora-secondary);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .velmora-brand {
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary), var(--velmora-accent));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            animation: gradient-shift 3s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Navigation Buttons */
        .nav-btn {
            position: relative;
            padding: 12px 20px;
            border-radius: var(--radius);
            border: 2px solid transparent;
            background: var(--velmora-background);
            color: var(--velmora-text);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            overflow: hidden;
        }

        .nav-btn:hover {
            background: rgba(255, 107, 107, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.2);
        }

        .nav-btn.active {
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary), var(--velmora-accent));
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
            animation: rainbow-shift 4s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes rainbow-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: var(--velmora-nav-bg);
            border: 2px solid var(--velmora-secondary);
            border-radius: var(--radius);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            min-width: 200px;
            animation: slideInUp 0.3s ease-out;
        }

        .dropdown.active .dropdown-content {
            display: block;
        }

        .dropdown-item {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid var(--velmora-secondary)/30;
        }

        .dropdown-item:hover {
            background: rgba(255, 107, 107, 0.1);
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        /* Card Styles */
        .velmora-card {
            background: var(--velmora-background);
            border: 2px solid var(--velmora-secondary);
            border-radius: var(--radius);
            padding: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .velmora-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.15);
        }

        .velmora-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary), var(--velmora-accent));
            opacity: 0.05;
            z-index: -1;
        }

        /* Button Styles */
        .btn-primary {
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary));
            color: white;
            padding: 12px 24px;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .btn-secondary {
            background: var(--velmora-accent);
            color: var(--velmora-text);
            padding: 8px 16px;
            border-radius: var(--radius);
            border: 2px solid var(--velmora-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--velmora-secondary);
            transform: translateY(-1px);
        }

        /* Input Styles */
        .velmora-input {
            background: var(--velmora-background);
            border: 2px solid var(--velmora-secondary);
            border-radius: var(--radius);
            padding: 12px 16px;
            color: var(--velmora-text);
            transition: all 0.3s ease;
            width: 100%;
        }

        .velmora-input:focus {
            outline: none;
            border-color: var(--velmora-primary);
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
        }

        /* Gradient Utilities */
        .gradient-text {
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary), var(--velmora-accent));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            animation: gradient-shift 3s ease infinite;
            background-size: 200% 200%;
        }

        .rainbow-gradient {
            background: linear-gradient(to right, var(--velmora-primary), var(--velmora-secondary), var(--velmora-accent));
            background-size: 200% 200%;
            animation: rainbow-shift 4s ease infinite;
        }

        .marigold-gradient {
            background: linear-gradient(135deg, var(--velmora-secondary), var(--velmora-accent));
        }

        .green-gradient {
            background: linear-gradient(135deg, var(--velmora-accent), var(--velmora-primary));
        }

        /* Stats and Animations */
        .stat-counter {
            animation: countUp 2s ease-out;
            font-size: 2rem;
            font-weight: bold;
        }

        @keyframes countUp {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .bounce-in {
            animation: bounceIn 0.8s ease-out;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); opacity: 0.8; }
            70% { transform: scale(0.9); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading States */
        .loader {
            width: 40px;
            height: 40px;
            border: 4px solid var(--velmora-secondary);
            border-top: 4px solid var(--velmora-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-dots::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { color: transparent; text-shadow: .25em 0 0 transparent, .5em 0 0 transparent; }
            40% { color: var(--velmora-primary); text-shadow: .25em 0 0 transparent, .5em 0 0 transparent; }
            60% { text-shadow: .25em 0 0 var(--velmora-primary), .5em 0 0 transparent; }
            80%, 100% { text-shadow: .25em 0 0 var(--velmora-primary), .5em 0 0 var(--velmora-primary); }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .nav-btn {
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .velmora-brand h1 {
                font-size: 2rem;
            }
            
            .nav-buttons {
                display: none;
            }
            
            .mobile-nav {
                display: block;
            }
        }

        @media (min-width: 769px) {
            .mobile-nav {
                display: none;
            }
        }

        /* Feature Cards */
        .feature-card {
            background: rgba(107, 203, 119, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .feature-card:hover {
            background: rgba(255, 107, 107, 0.1);
            border-color: var(--velmora-primary);
            transform: translateY(-2px);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin-bottom: 12px;
        }

        /* Hidden sections initially */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
            animation: slideInUp 0.6s ease-out;
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            border-radius: var(--radius);
            color: white;
            font-weight: 600;
            z-index: 1001;
            animation: slideInUp 0.3s ease-out;
        }

        .notification.success {
            background: var(--velmora-accent);
        }

        .notification.error {
            background: var(--velmora-primary);
        }

        .notification.info {
            background: var(--velmora-secondary);
            color: var(--velmora-text);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="velmora-nav w-full p-4 shadow-lg">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <!-- Brand -->
            <div class="velmora-brand">
                <h1 class="text-4xl font-bold px-6 py-2">Velmora</h1>
            </div>
            
            <!-- Desktop Navigation -->
            <div class="nav-buttons flex items-center gap-4">
                <div class="flex flex-wrap gap-2">
                    <button class="nav-btn active" data-section="dashboard">Dashboard</button>
                    <button class="nav-btn" data-section="news-scraper">News Scraper</button>
                    <button class="nav-btn" data-section="stock-prices">Stock Prices</button>
                    <button class="nav-btn" data-section="crypto-insights">Crypto Insights</button>
                    <button class="nav-btn" data-section="ecommerce">E-Commerce</button>
                    <button class="nav-btn" data-section="mood-playlist">Mood Playlist</button>
                    <button class="nav-btn" data-section="share">Share</button>
                </div>
                
                <!-- Dropdown Menu -->
                <div class="dropdown">
                    <button class="nav-btn dropdown-toggle">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-item" data-section="profile">
                            <i class="fas fa-user mr-2"></i> Profile
                        </div>
                        <div class="dropdown-item" data-section="about">
                            <i class="fas fa-info-circle mr-2"></i> About Us
                        </div>
                        <div class="dropdown-item" data-section="reviews">
                            <i class="fas fa-star mr-2"></i> Reviews
                        </div>
                        <div class="dropdown-item" data-section="settings">
                            <i class="fas fa-cog mr-2"></i> Settings
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile Navigation -->
            <div class="mobile-nav">
                <button class="nav-btn mobile-menu-toggle">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Dashboard Section -->
        <div id="dashboard" class="page-section active">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Dashboard</h1>
                    <p class="text-lg">Welcome to your Velmora dashboard. Monitor your investments, track news, and analyze market trends.</p>
                </div>

                <!-- Global Search -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Quick Search</h2>
                    <div class="flex gap-4">
                        <input type="text" id="global-search-input" class="velmora-input flex-1" 
                               placeholder="Search news, stocks, crypto... (e.g., 'Apple', 'Bitcoin', 'tech news')">
                        <button id="start-scraping-btn" class="btn-primary">
                            <i class="fas fa-search mr-2"></i>Start Scraping
                        </button>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="velmora-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm opacity-70">Daily Change</p>
                                <p class="stat-counter text-green-600">+2.45%</p>
                                <p class="text-sm text-yellow-600 mt-1">Portfolio</p>
                            </div>
                            <div class="w-12 h-12 marigold-gradient rounded-lg flex items-center justify-center">
                                <span class="text-2xl">📈</span>
                            </div>
                        </div>
                    </div>

                    <div class="velmora-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm opacity-70">Total Investment</p>
                                <p class="stat-counter">$45,672.83</p>
                                <p class="text-sm text-yellow-600 mt-1">USD</p>
                            </div>
                            <div class="w-12 h-12 rainbow-gradient rounded-lg flex items-center justify-center">
                                <span class="text-2xl">💰</span>
                            </div>
                        </div>
                    </div>

                    <div class="velmora-card">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm opacity-70">Latest Updates</p>
                                <p class="stat-counter">156</p>
                                <p class="text-sm text-yellow-600 mt-1">Today</p>
                            </div>
                            <div class="w-12 h-12 green-gradient rounded-lg flex items-center justify-center">
                                <span class="text-2xl">📰</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Global Search Results -->
                <div id="global-search-results-section" class="velmora-card" style="display: none;">
                    <h3 class="text-xl font-semibold mb-4">Search Results</h3>
                    <div id="global-search-results-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Results will be populated here -->
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Recent Activity</h3>
                    <div id="recent-activity-list" class="space-y-3">
                        <div class="flex items-start space-x-3 p-3 bg-opacity-20 bg-green-500 rounded-lg">
                            <i class="fas fa-check-circle text-green-400 mt-1"></i>
                            <div>
                                <p class="text-sm">System initialized successfully</p>
                                <p class="text-xs opacity-60">Just now</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- What you wanna do today -->
                <div class="velmora-card">
                    <h3 class="text-2xl font-semibold mb-6">What you wanna do today?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="feature-card" data-section="news-scraper">
                            <div class="feature-icon bg-blue-500">📰</div>
                            <h4 class="text-lg font-semibold mb-2">News Scraper</h4>
                            <p class="text-sm opacity-70">Stay updated with real-time financial news from multiple sources</p>
                        </div>
                        <div class="feature-card" data-section="stock-prices">
                            <div class="feature-icon bg-green-500">📈</div>
                            <h4 class="text-lg font-semibold mb-2">Stock Prices</h4>
                            <p class="text-sm opacity-70">Track and analyze stock performance with detailed insights</p>
                        </div>
                        <div class="feature-card" data-section="crypto-insights">
                            <div class="feature-icon bg-orange-500">₿</div>
                            <h4 class="text-lg font-semibold mb-2">Crypto Insights</h4>
                            <p class="text-sm opacity-70">Get comprehensive cryptocurrency market analysis and trends</p>
                        </div>
                        <div class="feature-card" data-section="ecommerce">
                            <div class="feature-icon bg-purple-500">🛒</div>
                            <h4 class="text-lg font-semibold mb-2">E-Commerce</h4>
                            <p class="text-sm opacity-70">Search and compare prices for products across multiple platforms</p>
                        </div>
                        <div class="feature-card" data-section="mood-playlist">
                            <div class="feature-icon bg-pink-500">🎵</div>
                            <h4 class="text-lg font-semibold mb-2">Mood Playlist</h4>
                            <p class="text-sm opacity-70">Get personalized music recommendations based on your current mood</p>
                        </div>
                        <div class="feature-card" data-section="share">
                            <div class="feature-icon bg-indigo-500">🔗</div>
                            <h4 class="text-lg font-semibold mb-2">Share</h4>
                            <p class="text-sm opacity-70">Share your portfolio performance and insights with others</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- News Scraper Section -->
        <div id="news-scraper" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">News Scraper</h1>
                    <p class="text-lg">Stay updated with real-time financial news from multiple trusted sources.</p>
                </div>

                <!-- News Search Controls -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Search News</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <input type="text" id="news-keywords" class="velmora-input" 
                               placeholder="Enter keywords (e.g., 'Apple earnings')">
                        <select id="news-category" class="velmora-input">
                            <option value="general">General</option>
                            <option value="business">Business</option>
                            <option value="technology">Technology</option>
                            <option value="sports">Sports</option>
                            <option value="entertainment">Entertainment</option>
                        </select>
                        <select id="news-source" class="velmora-input">
                            <option value="">All Sources</option>
                            <option value="bbc">BBC</option>
                            <option value="cnn">CNN</option>
                            <option value="reuters">Reuters</option>
                            <option value="techcrunch">TechCrunch</option>
                        </select>
                    </div>
                    <button id="news-search-btn" class="btn-primary">
                        <i class="fas fa-search mr-2"></i>Search News
                    </button>
                </div>

                <!-- News Results -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Latest News</h3>
                    <div id="news-results-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="text-center py-8">
                            <p class="opacity-60">Enter keywords and click search to get the latest news</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stock Prices Section -->
        <div id="stock-prices" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Stock Prices</h1>
                    <p class="text-lg">Track and analyze stock performance with detailed insights.</p>
                </div>

                <!-- Stock Search -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Search Stocks</h2>
                    <div class="flex gap-4">
                        <input type="text" id="stock-symbol" class="velmora-input flex-1" 
                               placeholder="Enter stock symbol (e.g., AAPL, GOOGL, TSLA)">
                        <button id="stock-search-btn" class="btn-primary">
                            <i class="fas fa-chart-line mr-2"></i>Get Quote
                        </button>
                    </div>
                </div>

                <!-- Stock Results -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Stock Information</h3>
                    <div id="stock-results-container">
                        <div class="text-center py-8">
                            <p class="opacity-60">Enter a stock symbol to get real-time quotes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Crypto Insights Section -->
        <div id="crypto-insights" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Crypto Insights</h1>
                    <p class="text-lg">Get comprehensive cryptocurrency market analysis and trends.</p>
                </div>

                <!-- Crypto Search -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Search Cryptocurrency</h2>
                    <div class="flex gap-4">
                        <input type="text" id="crypto-symbol" class="velmora-input flex-1" 
                               placeholder="Enter crypto symbol (e.g., bitcoin, ethereum, cardano)">
                        <button id="crypto-search-btn" class="btn-primary">
                            <i class="fas fa-coins mr-2"></i>Get Price
                        </button>
                    </div>
                </div>

                <!-- Crypto Results -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Cryptocurrency Information</h3>
                    <div id="crypto-results-container">
                        <div class="text-center py-8">
                            <p class="opacity-60">Enter a cryptocurrency name to get current market data</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- E-Commerce Section -->
        <div id="ecommerce" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">E-Commerce</h1>
                    <p class="text-lg">Search and compare prices for products across multiple platforms.</p>
                </div>

                <!-- Product Search -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Search Products</h2>
                    <div class="flex gap-4">
                        <input type="text" id="ecommerce-query" class="velmora-input flex-1" 
                               placeholder="Enter product name (e.g., 'iPhone 15', 'MacBook Pro')">
                        <button id="ecommerce-search-btn" class="btn-primary">
                            <i class="fas fa-shopping-cart mr-2"></i>Search Products
                        </button>
                    </div>
                </div>

                <!-- E-commerce Results -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Product Results</h3>
                    <div id="ecommerce-results-container">
                        <div class="text-center py-8">
                            <p class="opacity-60">Enter a product name to search across e-commerce platforms</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mood Playlist Section -->
        <div id="mood-playlist" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Custom Mood Playlist</h1>
                    <p class="text-lg">Get personalized music recommendations based on your current mood.</p>
                </div>

                <!-- Mood Selection -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">How are you feeling today?</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <button class="mood-btn feature-card text-center" data-mood="happy">
                            <div class="text-4xl mb-2">😊</div>
                            <p class="font-semibold">Happy</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="sad">
                            <div class="text-4xl mb-2">😢</div>
                            <p class="font-semibold">Sad</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="energetic">
                            <div class="text-4xl mb-2">⚡</div>
                            <p class="font-semibold">Energetic</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="chill">
                            <div class="text-4xl mb-2">😌</div>
                            <p class="font-semibold">Chill</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="romantic">
                            <div class="text-4xl mb-2">💕</div>
                            <p class="font-semibold">Romantic</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="focused">
                            <div class="text-4xl mb-2">🎯</div>
                            <p class="font-semibold">Focused</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="party">
                            <div class="text-4xl mb-2">🎉</div>
                            <p class="font-semibold">Party</p>
                        </button>
                        <button class="mood-btn feature-card text-center" data-mood="nostalgic">
                            <div class="text-4xl mb-2">🌅</div>
                            <p class="font-semibold">Nostalgic</p>
                        </button>
                    </div>
                    <button id="generate-playlist-btn" class="btn-primary">
                        <i class="fas fa-music mr-2"></i>Generate Playlist
                    </button>
                </div>

                <!-- Playlist Results -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Your Mood Playlist</h3>
                    <div id="playlist-results-container">
                        <div class="text-center py-8">
                            <p class="opacity-60">Select your mood above to generate a personalized playlist</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Share Section -->
        <div id="share" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Share</h1>
                    <p class="text-lg">Share your portfolio performance and insights with others.</p>
                </div>

                <!-- Share Options -->
                <div class="velmora-card">
                    <h2 class="text-xl font-semibold mb-4">Share Your Portfolio</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="feature-card">
                            <div class="feature-icon bg-blue-500">📊</div>
                            <h4 class="text-lg font-semibold mb-2">Performance Summary</h4>
                            <p class="text-sm opacity-70 mb-4">Share your investment performance and key metrics</p>
                            <button class="btn-secondary">Generate Report</button>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon bg-green-500">🔗</div>
                            <h4 class="text-lg font-semibold mb-2">Share Link</h4>
                            <p class="text-sm opacity-70 mb-4">Create a shareable link for your public portfolio</p>
                            <button class="btn-secondary">Create Link</button>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon bg-purple-500">📱</div>
                            <h4 class="text-lg font-semibold mb-2">Social Media</h4>
                            <p class="text-sm opacity-70 mb-4">Share your achievements on social platforms</p>
                            <button class="btn-secondary">Share Now</button>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon bg-orange-500">📄</div>
                            <h4 class="text-lg font-semibold mb-2">Export Data</h4>
                            <p class="text-sm opacity-70 mb-4">Download your data in various formats</p>
                            <button class="btn-secondary">Export</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Section -->
        <div id="profile" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Profile</h1>
                    <p class="text-lg">Manage your account settings and preferences.</p>
                </div>

                <!-- Profile Info -->
                <div class="velmora-card">
                    <div class="flex items-center space-x-6 mb-6">
                        <div class="w-20 h-20 rainbow-gradient rounded-full flex items-center justify-center text-white text-2xl font-bold">
                            U
                        </div>
                        <div>
                            <h2 class="text-2xl font-semibold">Guest User</h2>
                            <p class="opacity-70">Free Plan</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Display Name</label>
                            <input type="text" class="velmora-input" value="Guest User">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Email</label>
                            <input type="email" class="velmora-input" value="guest@velmora.com">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Timezone</label>
                            <select class="velmora-input">
                                <option>UTC-5 (Eastern Time)</option>
                                <option>UTC-8 (Pacific Time)</option>
                                <option>UTC+0 (Greenwich Time)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Currency</label>
                            <select class="velmora-input">
                                <option>USD ($)</option>
                                <option>EUR (€)</option>
                                <option>GBP (£)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn-primary mt-6">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- About Us Section -->
        <div id="about" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">About Us</h1>
                    <p class="text-lg">Learn more about Velmora and our mission.</p>
                </div>

                <!-- About Content -->
                <div class="velmora-card">
                    <div class="text-center mb-8">
                        <div class="w-24 h-24 rainbow-gradient rounded-full flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4">
                            V
                        </div>
                        <h2 class="text-3xl font-bold gradient-text mb-4">Velmora</h2>
                        <p class="text-xl opacity-80">Advanced Web Scraping Platform</p>
                    </div>
                    
                    <div class="prose max-w-none">
                        <p class="text-lg mb-6">
                            Velmora is a comprehensive web scraping and data aggregation platform designed to help you stay informed about financial markets, news, and trends. Our mission is to democratize access to real-time data and insights.
                        </p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                            <div class="text-center">
                                <div class="w-16 h-16 green-gradient rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4">🎯</div>
                                <h3 class="text-lg font-semibold mb-2">Our Mission</h3>
                                <p class="text-sm opacity-70">To provide accessible, real-time data insights for everyone.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 marigold-gradient rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4">⚡</div>
                                <h3 class="text-lg font-semibold mb-2">Our Vision</h3>
                                <p class="text-sm opacity-70">A world where data-driven decisions are within everyone's reach.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rainbow-gradient rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4">🌟</div>
                                <h3 class="text-lg font-semibold mb-2">Our Values</h3>
                                <p class="text-sm opacity-70">Transparency, innovation, and user-first design.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reviews Section -->
        <div id="reviews" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Reviews</h1>
                    <p class="text-lg">See what our users are saying about Velmora.</p>
                </div>

                <!-- Reviews Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="velmora-card">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rainbow-gradient rounded-full flex items-center justify-center text-white font-bold mr-3">
                                A
                            </div>
                            <div>
                                <h4 class="font-semibold">Alex Chen</h4>
                                <div class="flex text-yellow-500">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm opacity-80">"Velmora has transformed how I track my investments. The real-time data is incredibly accurate and the interface is beautiful!"</p>
                    </div>
                    
                    <div class="velmora-card">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 green-gradient rounded-full flex items-center justify-center text-white font-bold mr-3">
                                S
                            </div>
                            <div>
                                <h4 class="font-semibold">Sarah Johnson</h4>
                                <div class="flex text-yellow-500">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm opacity-80">"The news aggregation feature keeps me updated on all market movements. It's like having a personal financial assistant!"</p>
                    </div>
                    
                    <div class="velmora-card">
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 marigold-gradient rounded-full flex items-center justify-center text-white font-bold mr-3">
                                M
                            </div>
                            <div>
                                <h4 class="font-semibold">Mike Rodriguez</h4>
                                <div class="flex text-yellow-500">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm opacity-80">"Great platform for tracking crypto prices. The mood playlist feature is a nice touch that makes the experience more enjoyable."</p>
                    </div>
                </div>

                <!-- Add Review -->
                <div class="velmora-card">
                    <h3 class="text-xl font-semibold mb-4">Leave a Review</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Your Name</label>
                            <input type="text" class="velmora-input" placeholder="Enter your name">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Rating</label>
                            <div class="flex space-x-2">
                                <button class="text-2xl text-gray-400 hover:text-yellow-500 transition-colors">⭐</button>
                                <button class="text-2xl text-gray-400 hover:text-yellow-500 transition-colors">⭐</button>
                                <button class="text-2xl text-gray-400 hover:text-yellow-500 transition-colors">⭐</button>
                                <button class="text-2xl text-gray-400 hover:text-yellow-500 transition-colors">⭐</button>
                                <button class="text-2xl text-gray-400 hover:text-yellow-500 transition-colors">⭐</button>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Your Review</label>
                            <textarea class="velmora-input" rows="4" placeholder="Tell us about your experience with Velmora..."></textarea>
                        </div>
                        <button class="btn-primary">Submit Review</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings" class="page-section">
            <div class="space-y-6">
                <div class="mb-8">
                    <h1 class="text-4xl mb-2 gradient-text font-bold">Settings</h1>
                    <p class="text-lg">Customize your Velmora experience.</p>
                </div>

                <!-- Settings Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Theme Settings -->
                    <div class="velmora-card">
                        <h3 class="text-lg font-semibold mb-4">Theme & Appearance</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold mb-2">Theme</label>
                                <select class="velmora-input">
                                    <option>Light Mode</option>
                                    <option>Dark Mode</option>
                                    <option>Auto (System)</option>
                                </select>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded">
                                    <span class="text-sm">Enable animations</span>
                                </label>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded" checked>
                                    <span class="text-sm">Show gradient effects</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="velmora-card">
                        <h3 class="text-lg font-semibold mb-4">Notifications</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded" checked>
                                    <span class="text-sm">Price alerts</span>
                                </label>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded" checked>
                                    <span class="text-sm">News updates</span>
                                </label>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded">
                                    <span class="text-sm">Email notifications</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Data Settings -->
                    <div class="velmora-card">
                        <h3 class="text-lg font-semibold mb-4">Data & Privacy</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded" checked>
                                    <span class="text-sm">Auto-refresh data</span>
                                </label>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" class="rounded">
                                    <span class="text-sm">Share anonymous usage data</span>
                                </label>
                            </div>
                            <button class="btn-secondary">Clear Cache</button>
                        </div>
                    </div>

                    <!-- API Settings -->
                    <div class="velmora-card">
                        <h3 class="text-lg font-semibold mb-4">API Configuration</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold mb-2">Refresh Interval (seconds)</label>
                                <input type="number" class="velmora-input" value="30" min="10" max="300">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2">Results Limit</label>
                                <select class="velmora-input">
                                    <option>10</option>
                                    <option>20</option>
                                    <option>50</option>
                                    <option>100</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Save Settings -->
                <div class="text-center">
                    <button class="btn-primary text-lg px-8 py-3">Save All Settings</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>

    <script>
        // Initialize Socket.IO connection
        const socket = io();

        // Get DOM elements
        const navButtons = document.querySelectorAll('.nav-btn');
        const dropdownItems = document.querySelectorAll('.dropdown-item');
        const featureCards = document.querySelectorAll('.feature-card');
        const sections = document.querySelectorAll('.page-section');
        const dropdown = document.querySelector('.dropdown');
        const dropdownToggle = document.querySelector('.dropdown-toggle');
        
        // Global search elements
        const globalSearchInput = document.getElementById('global-search-input');
        const startScrapingBtn = document.getElementById('start-scraping-btn');
        const globalSearchResultsSection = document.getElementById('global-search-results-section');
        const globalSearchResultsContainer = document.getElementById('global-search-results-container');
        
        // Section-specific elements
        const newsKeywordsInput = document.getElementById('news-keywords');
        const newsCategorySelect = document.getElementById('news-category');
        const newsSourceSelect = document.getElementById('news-source');
        const newsSearchBtn = document.getElementById('news-search-btn');
        const newsResultsContainer = document.getElementById('news-results-container');
        
        const stockSymbolInput = document.getElementById('stock-symbol');
        const stockSearchBtn = document.getElementById('stock-search-btn');
        const stockResultsContainer = document.getElementById('stock-results-container');
        
        const cryptoSymbolInput = document.getElementById('crypto-symbol');
        const cryptoSearchBtn = document.getElementById('crypto-search-btn');
        const cryptoResultsContainer = document.getElementById('crypto-results-container');
        
        const ecommerceQueryInput = document.getElementById('ecommerce-query');
        const ecommerceSearchBtn = document.getElementById('ecommerce-search-btn');
        const ecommerceResultsContainer = document.getElementById('ecommerce-results-container');
        
        const generatePlaylistBtn = document.getElementById('generate-playlist-btn');
        const playlistResultsContainer = document.getElementById('playlist-results-container');
        const moodButtons = document.querySelectorAll('.mood-btn');
        
        const recentActivityList = document.getElementById('recent-activity-list');
        const notificationContainer = document.getElementById('notification-container');

        let selectedMood = '';

        // Socket.IO Event Handlers
        socket.on('connect', () => {
            console.log('✅ Connected to server');
            addRecentActivity('Connected to Velmora server', 'success');
        });

        socket.on('disconnect', () => {
            console.log('❌ Disconnected from server');
            addRecentActivity('Disconnected from server', 'error');
        });

        socket.on('scrape_update', (result) => {
            console.log('🔍 [FRONTEND DEBUG] Received scrape_update:', result);
            console.log('🔍 [FRONTEND DEBUG] Result success:', result.success);
            console.log('🔍 [FRONTEND DEBUG] Result data length:', result.data ? result.data.length : 'No data');
            
            // Check if this is a global search (from dashboard) or section-specific search
            const currentSection = document.querySelector('.nav-btn.active')?.getAttribute('data-section');
            console.log('🔍 [FRONTEND DEBUG] Current section:', currentSection);
            
            if (currentSection === 'dashboard') {
                // Global search - show results on dashboard
                console.log('🔍 [FRONTEND DEBUG] Handling as global search');
                handleGlobalSearchResponse(result);
            } else {
                // Section-specific search - show in section container
                console.log('🔍 [FRONTEND DEBUG] Handling as section-specific search');
                handleScrapeResponse(result, 'News', newsResultsContainer, renderNews);
            }
        });

        // Navigation Functions
        function showSection(sectionId) {
            // Hide all sections
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update nav button states
            navButtons.forEach(btn => btn.classList.remove('active'));
            dropdownItems.forEach(item => item.classList.remove('active'));
            
            // Find and activate the corresponding nav button
            const navBtn = document.querySelector(`[data-section="${sectionId}"]`);
            if (navBtn) {
                navBtn.classList.add('active');
            }
            
            // Close dropdown
            dropdown.classList.remove('active');
        }

        // Navigation Event Listeners
        navButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = button.getAttribute('data-section');
                showSection(sectionId);
            });
        });

        dropdownItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = item.getAttribute('data-section');
                showSection(sectionId);
            });
        });

        featureCards.forEach(card => {
            const sectionId = card.getAttribute('data-section');
            if (sectionId) {
                card.addEventListener('click', () => {
                    showSection(sectionId);
                });
            }
        });

        // Dropdown Toggle
        dropdownToggle.addEventListener('click', (e) => {
            e.preventDefault();
            dropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!dropdown.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });

        // Global Search Functions
        function handleGlobalSearch() {
            const query = globalSearchInput.value.trim();
            console.log('🚀 [FRONTEND DEBUG] handleGlobalSearch called with query:', query);
            
            if (!query) return showNotification('Please enter a search term.', 'error');
            
            // Clear previous results
            globalSearchResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Searching...</p></div>';
            globalSearchResultsSection.style.display = 'block';
            console.log('🚀 [FRONTEND DEBUG] Set loading state and made section visible');
            
            const requestData = { type: 'news', query };
            console.log('🚀 [FRONTEND DEBUG] Emitting scrape_request with:', requestData);
            showNotification(`Searching for "${query}"...`);
            socket.emit('scrape_request', requestData);
            addRecentActivity(`Global search started for: <strong>${query}</strong>`);
            console.log('🚀 [FRONTEND DEBUG] Request sent successfully');
        }

        function handleGlobalSearchResponse(result) {
            console.log('🎯 [FRONTEND DEBUG] handleGlobalSearchResponse called with:', result);
            console.log('🎯 [FRONTEND DEBUG] globalSearchResultsSection element:', globalSearchResultsSection);
            console.log('🎯 [FRONTEND DEBUG] globalSearchResultsContainer element:', globalSearchResultsContainer);
            
            if (result.success) {
                console.log('✅ [FRONTEND DEBUG] Success - showing results');
                showNotification(result.message, 'success');
                // Show the search results section
                globalSearchResultsSection.style.display = 'block';
                console.log('🎯 [FRONTEND DEBUG] Made search results section visible');
                // Render the results
                renderNews(result.data, globalSearchResultsContainer);
                console.log('🎯 [FRONTEND DEBUG] Called renderNews with data length:', result.data.length);
                addRecentActivity(`Global search completed: <strong>${result.data.length} articles found</strong>`, 'success');
            } else {
                console.log('❌ [FRONTEND DEBUG] Error - showing error message');
                showNotification(result.message || 'Search failed', 'error');
                globalSearchResultsContainer.innerHTML = `<p class="text-red-400 text-center">${result.message}</p>`;
                globalSearchResultsSection.style.display = 'block';
            }
        }

        // Section-Specific Search Functions
        function handleNewsScrape() {
            const keywords = newsKeywordsInput.value.trim();
            if (!keywords) return showNotification('Please enter keywords.', 'error');
            
            const request = {
                type: 'news',
                query: keywords,
                category: newsCategorySelect.value,
                source: newsSourceSelect.value
            };
            
            newsResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Searching news...</p></div>';
            showNotification(`Scraping news for "${keywords}"...`);
            socket.emit('scrape_request', request);
            addRecentActivity(`News scraping started for: <strong>${keywords}</strong>`);
        }

        function handleStockSearch() {
            const symbol = stockSymbolInput.value.trim().toUpperCase();
            if (!symbol) return showNotification('Please enter a stock symbol.', 'error');
            
            stockResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Fetching stock data...</p></div>';
            showNotification(`Getting quote for ${symbol}...`);
            
            fetch(`/api/scrape/stocks?symbol=${symbol}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        renderStocks([data.data], stockResultsContainer);
                        showNotification(`Stock data for ${symbol} loaded successfully`, 'success');
                        addRecentActivity(`Stock quote retrieved for: <strong>${symbol}</strong>`, 'success');
                    } else {
                        stockResultsContainer.innerHTML = `<p class="text-red-400 text-center">${data.message}</p>`;
                        showNotification(data.message, 'error');
                    }
                })
                .catch(error => {
                    stockResultsContainer.innerHTML = '<p class="text-red-400 text-center">Failed to fetch stock data</p>';
                    showNotification('Failed to fetch stock data', 'error');
                });
        }

        function handleCryptoSearch() {
            const symbol = cryptoSymbolInput.value.trim().toLowerCase();
            if (!symbol) return showNotification('Please enter a cryptocurrency name.', 'error');
            
            cryptoResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Fetching crypto data...</p></div>';
            showNotification(`Getting price for ${symbol}...`);
            
            fetch(`/api/scrape/crypto?symbol=${symbol}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        renderCrypto([data.data], cryptoResultsContainer);
                        showNotification(`Crypto data for ${symbol} loaded successfully`, 'success');
                        addRecentActivity(`Crypto price retrieved for: <strong>${symbol}</strong>`, 'success');
                    } else {
                        cryptoResultsContainer.innerHTML = `<p class="text-red-400 text-center">${data.message}</p>`;
                        showNotification(data.message, 'error');
                    }
                })
                .catch(error => {
                    cryptoResultsContainer.innerHTML = '<p class="text-red-400 text-center">Failed to fetch crypto data</p>';
                    showNotification('Failed to fetch crypto data', 'error');
                });
        }

        function handleEcommerceSearch() {
            const query = ecommerceQueryInput.value.trim();
            if (!query) return showNotification('Please enter a product name.', 'error');
            
            ecommerceResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Searching products...</p></div>';
            showNotification(`Searching for "${query}"...`);
            
            fetch(`/api/scrape/ecommerce?query=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        renderEcommerce(data.data, ecommerceResultsContainer);
                        showNotification(`Products found for "${query}"`, 'success');
                        addRecentActivity(`E-commerce search completed for: <strong>${query}</strong>`, 'success');
                    } else {
                        ecommerceResultsContainer.innerHTML = `<p class="text-red-400 text-center">${data.message}</p>`;
                        showNotification(data.message, 'error');
                    }
                })
                .catch(error => {
                    ecommerceResultsContainer.innerHTML = '<p class="text-red-400 text-center">Failed to search products</p>';
                    showNotification('Failed to search products', 'error');
                });
        }

        function handlePlaylistGeneration() {
            if (!selectedMood) return showNotification('Please select a mood first.', 'error');
            
            playlistResultsContainer.innerHTML = '<div class="text-center py-8"><div class="loader"></div><p class="opacity-60 mt-2">Generating playlist...</p></div>';
            showNotification(`Generating ${selectedMood} playlist...`);
            
            // Simulate playlist generation
            setTimeout(() => {
                const mockPlaylist = generateMockPlaylist(selectedMood);
                renderPlaylist(mockPlaylist, playlistResultsContainer);
                showNotification(`${selectedMood} playlist generated successfully!`, 'success');
                addRecentActivity(`Mood playlist generated: <strong>${selectedMood}</strong>`, 'success');
            }, 2000);
        }

        // Mood Selection
        moodButtons.forEach(button => {
            button.addEventListener('click', () => {
                moodButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                selectedMood = button.getAttribute('data-mood');
                showNotification(`${selectedMood} mood selected`, 'info');
            });
        });

        // Event Listeners
        if (startScrapingBtn) {
            startScrapingBtn.addEventListener('click', handleGlobalSearch);
        }

        if (newsSearchBtn) {
            newsSearchBtn.addEventListener('click', handleNewsScrape);
        }

        if (stockSearchBtn) {
            stockSearchBtn.addEventListener('click', handleStockSearch);
        }

        if (cryptoSearchBtn) {
            cryptoSearchBtn.addEventListener('click', handleCryptoSearch);
        }

        if (ecommerceSearchBtn) {
            ecommerceSearchBtn.addEventListener('click', handleEcommerceSearch);
        }

        if (generatePlaylistBtn) {
            generatePlaylistBtn.addEventListener('click', handlePlaylistGeneration);
        }

        // Enter key support
        if (globalSearchInput) {
            globalSearchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleGlobalSearch();
            });
        }

        if (newsKeywordsInput) {
            newsKeywordsInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleNewsScrape();
            });
        }

        if (stockSymbolInput) {
            stockSymbolInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleStockSearch();
            });
        }

        if (cryptoSymbolInput) {
            cryptoSymbolInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleCryptoSearch();
            });
        }

        if (ecommerceQueryInput) {
            ecommerceQueryInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleEcommerceSearch();
            });
        }

        // Rendering Functions
        function renderNews(data, container = newsResultsContainer) {
            console.log('📰 [FRONTEND DEBUG] renderNews called with data:', data);
            console.log('📰 [FRONTEND DEBUG] renderNews container:', container);
            console.log('📰 [FRONTEND DEBUG] Data length:', data ? data.length : 'null/undefined');
            
            if (!data || data.length === 0) {
                console.log('❌ [FRONTEND DEBUG] No data to render');
                return container.innerHTML = '<p class="text-center opacity-60">No articles found for your query.</p>';
            }
            
            console.log('✅ [FRONTEND DEBUG] Rendering', data.length, 'articles');
            container.innerHTML = data.map(article => {
                console.log('📰 [FRONTEND DEBUG] Processing article:', article.title);
                return `
                    <div class="velmora-card bounce-in">
                        <h4 class="text-lg font-semibold mb-2">${article.title}</h4>
                        <p class="text-sm opacity-70 mb-3">${article.content || article.description || 'No description available'}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-blue-400">${article.source}</span>
                            ${article.url ? `<a href="${article.url}" target="_blank" class="btn-secondary text-xs">Read More</a>` : ''}
                        </div>
                        ${article.publishedAt ? `<p class="text-xs opacity-50 mt-2">${new Date(article.publishedAt).toLocaleString()}</p>` : ''}
                    </div>`;
            }).join('');
            console.log('✅ [FRONTEND DEBUG] Finished rendering articles to container');
        }

        function renderStocks(data, container) {
            if (!data || data.length === 0) {
                return container.innerHTML = '<p class="text-center opacity-60">No stock data available.</p>';
            }
            
            container.innerHTML = data.map(stock => `
                <div class="velmora-card bounce-in">
                    <h4 class="text-lg font-semibold mb-2">${stock.name || stock.symbol}</h4>
                    <p class="text-2xl font-bold text-green-600 mb-2">$${stock.price}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-sm ${stock.change >= 0 ? 'text-green-500' : 'text-red-500'}">
                            ${stock.change >= 0 ? '+' : ''}${stock.change} (${stock.changePercent}%)
                        </span>
                        <span class="text-sm opacity-60">${stock.symbol}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderCrypto(data, container) {
            if (!data || data.length === 0) {
                return container.innerHTML = '<p class="text-center opacity-60">No crypto data available.</p>';
            }
            
            container.innerHTML = data.map(crypto => `
                <div class="velmora-card bounce-in">
                    <h4 class="text-lg font-semibold mb-2">${crypto.name}</h4>
                    <p class="text-2xl font-bold text-orange-500 mb-2">$${crypto.price.toFixed(2)}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-sm ${crypto.change >= 0 ? 'text-green-500' : 'text-red-500'}">
                            ${crypto.change >= 0 ? '+' : ''}${crypto.change.toFixed(2)}%
                        </span>
                        <span class="text-sm opacity-60">${crypto.symbol.toUpperCase()}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderEcommerce(data, container) {
            if (!data || (Array.isArray(data) && data.length === 0)) {
                return container.innerHTML = '<p class="text-center opacity-60">No products found.</p>';
            }
            
            const products = Array.isArray(data) ? data : [data];
            container.innerHTML = products.map(product => `
                <div class="velmora-card bounce-in">
                    <h4 class="text-lg font-semibold mb-2">${product.product_title || product.title || 'No Title'}</h4>
                    ${product.product_price ? `<p class="text-xl font-bold text-purple-600 mb-2">$${product.product_price}</p>` : ''}
                    <div class="flex justify-between items-center">
                        <span class="text-sm opacity-60">${product.asin || 'N/A'}</span>
                        ${product.product_url ? `<a href="${product.product_url}" target="_blank" class="btn-secondary text-xs">View Product</a>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function generateMockPlaylist(mood) {
            const playlists = {
                happy: [
                    { title: "Good as Hell", artist: "Lizzo", duration: "3:32" },
                    { title: "Happy", artist: "Pharrell Williams", duration: "3:53" },
                    { title: "Uptown Funk", artist: "Mark Ronson ft. Bruno Mars", duration: "4:30" },
                    { title: "Can't Stop the Feeling!", artist: "Justin Timberlake", duration: "3:56" },
                    { title: "I Gotta Feeling", artist: "The Black Eyed Peas", duration: "4:05" }
                ],
                sad: [
                    { title: "Someone Like You", artist: "Adele", duration: "4:45" },
                    { title: "Mad World", artist: "Gary Jules", duration: "3:07" },
                    { title: "Hurt", artist: "Johnny Cash", duration: "3:38" },
                    { title: "Black", artist: "Pearl Jam", duration: "5:43" },
                    { title: "The Night We Met", artist: "Lord Huron", duration: "3:28" }
                ],
                energetic: [
                    { title: "Thunder", artist: "Imagine Dragons", duration: "3:07" },
                    { title: "Pump It", artist: "The Black Eyed Peas", duration: "3:33" },
                    { title: "Eye of the Tiger", artist: "Survivor", duration: "4:04" },
                    { title: "Stronger", artist: "Kanye West", duration: "5:11" },
                    { title: "Don't Stop Me Now", artist: "Queen", duration: "3:29" }
                ],
                chill: [
                    { title: "Breathe Me", artist: "Sia", duration: "4:31" },
                    { title: "Mad About You", artist: "Billie Eilish", duration: "3:14" },
                    { title: "Weightless", artist: "Marconi Union", duration: "8:10" },
                    { title: "Sunset Lover", artist: "Petit Biscuit", duration: "3:44" },
                    { title: "River", artist: "Leon Bridges", duration: "4:02" }
                ],
                romantic: [
                    { title: "Perfect", artist: "Ed Sheeran", duration: "4:23" },
                    { title: "All of Me", artist: "John Legend", duration: "4:29" },
                    { title: "Thinking Out Loud", artist: "Ed Sheeran", duration: "4:41" },
                    { title: "Make You Feel My Love", artist: "Adele", duration: "3:32" },
                    { title: "At Last", artist: "Etta James", duration: "3:01" }
                ],
                focused: [
                    { title: "Weightless", artist: "Marconi Union", duration: "8:10" },
                    { title: "Clair de Lune", artist: "Claude Debussy", duration: "5:25" },
                    { title: "Gymnopédie No. 1", artist: "Erik Satie", duration: "4:28" },
                    { title: "Ambient 1", artist: "Brian Eno", duration: "6:14" },
                    { title: "Sleep Baby Sleep", artist: "Broods", duration: "4:23" }
                ],
                party: [
                    { title: "Uptown Funk", artist: "Mark Ronson ft. Bruno Mars", duration: "4:30" },
                    { title: "Can't Stop the Feeling!", artist: "Justin Timberlake", duration: "3:56" },
                    { title: "Party Rock Anthem", artist: "LMFAO", duration: "4:24" },
                    { title: "I Gotta Feeling", artist: "The Black Eyed Peas", duration: "4:05" },
                    { title: "Good 4 U", artist: "Olivia Rodrigo", duration: "2:58" }
                ],
                nostalgic: [
                    { title: "Yesterday", artist: "The Beatles", duration: "2:05" },
                    { title: "The Way You Look Tonight", artist: "Frank Sinatra", duration: "3:21" },
                    { title: "Stand By Me", artist: "Ben E. King", duration: "2:59" },
                    { title: "What a Wonderful World", artist: "Louis Armstrong", duration: "2:20" },
                    { title: "Unchained Melody", artist: "The Righteous Brothers", duration: "3:36" }
                ]
            };
            
            return playlists[mood] || playlists.happy;
        }

        function renderPlaylist(songs, container) {
            container.innerHTML = `
                <div class="space-y-3">
                    ${songs.map((song, index) => `
                        <div class="velmora-card flex items-center justify-between bounce-in" style="animation-delay: ${index * 0.1}s">
                            <div class="flex items-center space-x-4">
                                <div class="w-10 h-10 rainbow-gradient rounded-full flex items-center justify-center text-white font-semibold">
                                    ${index + 1}
                                </div>
                                <div>
                                    <h4 class="font-semibold">${song.title}</h4>
                                    <p class="text-sm opacity-70">${song.artist}</p>
                                </div>
                            </div>
                            <div class="text-sm opacity-60">${song.duration}</div>
                        </div>
                    `).join('')}
                    <div class="text-center mt-6">
                        <button class="btn-primary">
                            <i class="fas fa-play mr-2"></i>Play Playlist
                        </button>
                    </div>
                </div>
            `;
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notificationContainer.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        function addRecentActivity(message, type = 'info') {
            const icons = { 
                info: 'fa-info-circle text-blue-400', 
                success: 'fa-check-circle text-green-400', 
                error: 'fa-exclamation-triangle text-red-400' 
            };
            
            const item = document.createElement('div');
            item.className = 'flex items-start space-x-3 p-3 bg-opacity-20 bg-green-500 rounded-lg';
            item.innerHTML = `
                <i class="fas ${icons[type]} mt-1"></i>
                <div>
                    <p class="text-sm">${message}</p>
                    <p class="text-xs opacity-60">${new Date().toLocaleTimeString()}</p>
                </div>
            `;
            
            recentActivityList.prepend(item);
            
            // Keep only last 5 items
            if (recentActivityList.children.length > 5) {
                recentActivityList.lastChild.remove();
            }
        }

        function handleScrapeResponse(result, type, container, renderer) {
            if (result.success) {
                showNotification(result.message, 'success');
                renderer(result.data, container);
                addRecentActivity(`${type} scraping finished successfully.`, 'success');
            } else {
                showNotification(result.message || `Failed to get ${type.toLowerCase()} data.`, 'error');
                container.innerHTML = `<p class="text-red-400 text-center">${result.message}</p>`;
            }
        }

        // Initialize app
        console.log('🚀 Velmora initialized with new UI');
        addRecentActivity('New Velmora UI loaded successfully', 'success');
    </script>
</body>
</html> 